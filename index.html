<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>SIMULADOR IDEB</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        html { font-size: 18px; }
        body { font-family: Arial, sans-serif; background: #f7f7fa; margin: 0; padding: 0;}
        .container { background: #fff; max-width: 900px; margin: 32px auto; padding: 38px 28px 22px 28px; border-radius: 18px; box-shadow: 0 2px 22px #0002; }
        .logos { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; }
        .logos img { height: 75px; max-width: 220px; }
        h1 { text-align: center; color: #195bb5; margin-bottom: 12px; font-size: 2em;}
        table { width: 100%; border-collapse: collapse; margin: 16px 0; font-size: 1.15em;}
        th, td { border: 1px solid #ccc; padding: 9px 6px; text-align: center;}
        th { background: #f0f4fa; }
        input[type="number"] { width: 85px; padding: 5px 7px; font-size: 1.03em; border: 1px solid #bbb; border-radius: 4px;}
        .botao { margin: 18px auto 10px auto; display: block; padding: 12px 32px; background: #195bb5; color: #fff; font-size: 1.13em; border: none; border-radius: 6px; cursor: pointer; font-weight: bold;}
        .botao:hover { background: #195bb5dd; }
        .obs { font-size: 1.08em; margin-top: 24px; color: #333; background: #e9f2fd; padding: 10px 13px; border-radius: 6px;}
        .footer { text-align: center; margin-top: 30px; font-size: 1em; color: #888; }
        @media (max-width: 900px) {
            .container { padding: 6px; margin: 7px;}
            .logos img { height: 43px; max-width: 130px;}
            html { font-size: 16px; }
        }
    </style>
</head>
<body>
<div class="container">
    <div class="logos">
        <img src="niteroi.png" alt="Prefeitura de Niterói">
        <img src="casa.png" alt="Casa de Avaliação">
    </div>
    <h1>SIMULADOR IDEB</h1>
    <form id="simuladorIDEB" onsubmit="calculaIDEB(); return false;">
        <table>
            <tr>
                <th rowspan="2"></th>
                <th colspan="2">ANOS INICIAIS</th>
                <th colspan="2">ANOS FINAIS</th>
            </tr>
            <tr>
                <th>LP</th>
                <th>MAT</th>
                <th>LP</th>
                <th>MAT</th>
            </tr>
            <tr>
                <th>Média de Proficiência</th>
                <td><input type="number" step="0.01" min="0" max="10" id="lp_ini" placeholder="LP"></td>
                <td><input type="number" step="0.01" min="0" max="10" id="mat_ini" placeholder="MAT"></td>
                <td><input type="number" step="0.01" min="0" max="10" id="lp_fin" placeholder="LP"></td>
                <td><input type="number" step="0.01" min="0" max="10" id="mat_fin" placeholder="MAT"></td>
            </tr>
            <tr>
                <th>Média de Proficiência Padronizada</th>
                <td id="padronizada_ini_lp">-</td>
                <td id="padronizada_ini_mat">-</td>
                <td id="padronizada_fin_lp">-</td>
                <td id="padronizada_fin_mat">-</td>
            </tr>
            <tr>
                <th>Nota Padronizada</th>
                <td id="nota_pad_ini">-</td>
                <td></td>
                <td id="nota_pad_fin">-</td>
                <td></td>
            </tr>
            <tr>
                <th>Taxa de Rendimento (%)</th>
                <td colspan="2">
                    <input type="number" step="0.01" min="0" max="100" id="rendimento_ini" placeholder="Ex: 93.2">
                </td>
                <td colspan="2">
                    <input type="number" step="0.01" min="0" max="100" id="rendimento_fin" placeholder="Ex: 91.5">
                </td>
            </tr>
            <tr>
                <th>IDEB</th>
                <td id="ideb_ini" colspan="2">0,0</td>
                <td id="ideb_fin" colspan="2">0,0</td>
            </tr>
        </table>
        <button class="botao" type="submit">Calcular</button>
    </form>
    <div class="obs">
        <b>Obs.:</b> Nível de Proficiência Adequado<br>
        <b>Anos Iniciais:</b> LP ≥ 200 | MAT ≥ 225<br>
        <b>Anos Finais:</b> LP ≥ 275 | MAT ≥ 300
    </div>
</div>
<div class="footer">
    Casa de Avaliação & Prefeitura de Niterói
</div>
<script>
function padronizar(proficiencia, corte) {
    // Simulação de padronização linear para exemplo; substitua pela fórmula correta se houver.
    // Fórmula: Nota Padronizada = (Proficiência - Corte) / Desvio padrão hipotético
    // Aqui usamos só a diferença para exibir (exemplo visual)
    return (proficiencia && corte) ? (proficiencia - corte).toFixed(2) : "-";
}

function calculaIDEB() {
    // Entrada
    const lp_ini = parseFloat(document.getElementById('lp_ini').value.replace(',','.'));
    const mat_ini = parseFloat(document.getElementById('mat_ini').value.replace(',','.'));
    const lp_fin = parseFloat(document.getElementById('lp_fin').value.replace(',','.'));
    const mat_fin = parseFloat(document.getElementById('mat_fin').value.replace(',','.'));
    const rendimento_ini = parseFloat(document.getElementById('rendimento_ini').value.replace(',','.'));
    const rendimento_fin = parseFloat(document.getElementById('rendimento_fin').value.replace(',','.'));

    // Padronização: cortes
    const corte_lp_ini = 200, corte_mat_ini = 225, corte_lp_fin = 275, corte_mat_fin = 300;

    // Preencher padronização individual
    document.getElementById('padronizada_ini_lp').innerText = isNaN(lp_ini) ? "-" : padronizar(lp_ini, corte_lp_ini);
    document.getElementById('padronizada_ini_mat').innerText = isNaN(mat_ini) ? "-" : padronizar(mat_ini, corte_mat_ini);
    document.getElementById('padronizada_fin_lp').innerText = isNaN(lp_fin) ? "-" : padronizar(lp_fin, corte_lp_fin);
    document.getElementById('padronizada_fin_mat').innerText = isNaN(mat_fin) ? "-" : padronizar(mat_fin, corte_mat_fin);

    // Nota Padronizada (só para LP como exemplo; adapte se quiser outra lógica)
    document.getElementById('nota_pad_ini').innerText = (!isNaN(lp_ini) && !isNaN(corte_lp_ini)) ? padronizar(lp_ini, corte_lp_ini) : "-";
    document.getElementById('nota_pad_fin').innerText = (!isNaN(lp_fin) && !isNaN(corte_lp_fin)) ? padronizar(lp_fin, corte_lp_fin) : "-";

    // IDEB = (Taxa de rendimento x média das proficiências) / 10
    let ideb_ini = "-", ideb_fin = "-";
    if (!isNaN(rendimento_ini) && !isNaN(lp_ini) && !isNaN(mat_ini)) {
        const mediaIni = ((lp_ini + m_
